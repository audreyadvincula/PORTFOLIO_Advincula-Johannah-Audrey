CREATE DATABASE Internet_Cafe;
USE Internet_Cafe;

CREATE TABLE CUSTOMER (CUS_ID INT(5) AUTO_INCREMENT KEY,
CUS_NAME VARCHAR(50) NOT NULL,
CUS_PHONE VARCHAR(11) CHECK (CUS_PHONE REGEXP '^[0-9+() -]*$'),
CUS_EMAIL CHAR(50));

INSERT INTO CUSTOMER (CUS_ID, CUS_NAME, CUS_PHONE, CUS_EMAIL) VALUES 
("00301", "Beatrice", "09998883242", "Beatreees@gmail.com"),
("00302", "Ayumi", "09112565758", "ayumilopez34@gmail.com"),
("00303", "Estella", "09188781133", "estella.martinez@gmail.com"),
("00304", "Catherine", "09871023344", "Catherine02@gmail.com"),
("00305", "Sean Son", "09677845652", "SeanSon@gmail.com");

SELECT * FROM CUSTOMER;

CREATE TABLE EMPLOYEE (EMP_ID CHAR(5) NOT NULL KEY,
EMP_NAME VARCHAR(50) NOT NULL,
EMP_ROLE VARCHAR(50) NOT NULL,
EMP_PHONE VARCHAR(11) CHECK (EMP_PHONE REGEXP '^[0-9+() -]*$'),
EMP_PASSWORD CHAR(10) NOT NULL);
INSERT INTO EMPLOYEE (EMP_ID, EMP_NAME, EMP_ROLE, EMP_PHONE, EMP_PASSWORD) VALUES ("00101", "Nathan Reyes", "Manager", "09114569093", "asdfg12345"),
("00102", "Jeanne Vitor", "Cashier", "09294321155","qwert09876"),
("00103", "Cianne Guanlao", "Server", "09897655698","96385qazws"),
("00104", "Anedy Bautista", "Server", "09145352131","poiuy45678"),
("00105", "Zeth Acosta", "Server", "09785697674","cvbnm96374"),
("00106", "Christian Melgar", "Server", "09564459899","tgbyh12385");

SELECT * FROM EMPLOYEE;

CREATE TABLE PRICING (PRICE_ID CHAR(3) NOT NULL KEY,
PRICE_AMOUNT DECIMAL(10,2) NOT NULL,
PRICE_TYPE VARCHAR(50),
PRICE_DURATION VARCHAR(50) NOT NULL);
INSERT INTO PRICING (PRICE_ID, PRICE_AMOUNT, PRICE_TYPE, PRICE_DURATION) VALUES ("A01", 25.00, "Single", "1HR"),
("A02", 47.00, "Double", "1HR"),
("A03", 500.00, "Bundle", "24HRS"),
("A04", 350.00, "Student Package", "24HRS"),
("A05", 30.00, "VIP", "1HR");

SELECT * FROM PRICING;

CREATE TABLE PAYMENT (PAYMENT_ID INT(7) AUTO_INCREMENT,
EMP_ID CHAR(5) NOT NULL,
CUS_ID INT(5) NOT NULL,
PRICE_ID CHAR(3) NOT NULL,
PRIMARY KEY (PAYMENT_ID, EMP_ID, CUS_ID, PRICE_ID), 
PAYMENT_INIT_AMT DECIMAL(10,2) NOT NULL,
PAYMENT_DISC_TYPE VARCHAR(50),
PAYMENT_DISC_AMT DECIMAL(10,2),
PAYMENT_FINAL_AMT DECIMAL(10,2) NOT NULL,
PAYMENT_TYPE VARCHAR(50),
PAYMENT_DATE DATE NOT NULL,
FOREIGN KEY (EMP_ID) REFERENCES EMPLOYEE(EMP_ID),
FOREIGN KEY (CUS_ID) REFERENCES CUSTOMER(CUS_ID),
FOREIGN KEY (PRICE_ID) REFERENCES PRICING(PRICE_ID));
INSERT INTO PAYMENT (PAYMENT_ID, PAYMENT_INIT_AMT, PAYMENT_DISC_TYPE, PAYMENT_DISC_AMT, PAYMENT_FINAL_AMT, PAYMENT_TYPE, PAYMENT_DATE, EMP_ID, CUS_ID, PRICE_ID) VALUES 
("2001", 25.00, NULL, NULL, 25.00, "CASH", "2024-09-30", "00102", "00301", "A01"),
("2002", 47.00, NULL, NULL, 47.00, "CASH", "2024-09-30", "00102", "00302", "A02"),
("2003", 350.00, "PWD DISCOUNT", 17.50, 332.50, "GCASH", "2024-10-07", "00102", "00303", "A03"),
("2004", 47.00, NULL, NULL, 47.00, "CASH", "2024-10-07", "00102", "00304", "A04"),
("2005", 500.00, "SENIOR CITIZEN DISCOUNT", 100.00, 400.00, "CARD", "2024-10-12", "00102", "00305", "A05");

SELECT * FROM PAYMENT;

CREATE TABLE WIFI (WIFI_ID CHAR(5) NOT NULL KEY,
WIFI_CODE VARCHAR(50) NOT NULL,
WIFI_NAME VARCHAR(50) NOT NULL);
INSERT INTO WIFI (WIFI_ID, WIFI_CODE, WIFI_NAME) VALUES ("54321", "InternetC4f3", "InternetCafeWifi1"),
("23522", "1nternetCaf3", "InternetCafeWifi2"),
("84939", "Int3rn3tCafe!", "InternetCafeWifi3"),
("09382", "1nternetC4fe#", "InternetCafeWifi4"),
("72920", "1nt3rn3tCf3!", "InternetCafeWifi5");

SELECT * FROM WIFI;

CREATE TABLE ROOM (ROOM_NUM CHAR(2) NOT NULL,
ROOM_TYPE VARCHAR(50) NOT NULL,
WIFI_ID CHAR(5) NOT NULL,
PRIMARY KEY (ROOM_NUM, WIFI_ID),
FOREIGN KEY (WIFI_ID) REFERENCES WIFI(WIFI_ID));
INSERT INTO ROOM (ROOM_NUM, ROOM_TYPE, WIFI_ID) VALUES ("01", "Main Room 1", "54321"),
("02", "Main Room 2", "23522"),
("03", "Main Room 3", "84939"),
("04", "VIP 1", "09382"),
("05", "VIP 2", "72920");

SELECT * FROM ROOM;

CREATE TABLE COMPUTER (COMP_NUM CHAR(2) NOT NULL,
COMP_DESC VARCHAR(50) NOT NULL,
COMP_STATUS VARCHAR(50),
ROOM_NUM CHAR(2) NOT NULL,
PRIMARY KEY (COMP_NUM, ROOM_NUM),
FOREIGN KEY (ROOM_NUM) REFERENCES ROOM(ROOM_NUM));
INSERT INTO COMPUTER (COMP_NUM, COMP_DESC, COMP_STATUS, ROOM_NUM) VALUES ("01", "Lenovo IdeaCentre3", "Active", "01"),
("02", "Lenovo IdeaCentre3", "Disposed", "02"),
("03", "Lenovo IdeaCentre3", "Missing", "03"),
("04", "Lenovo IdeaCentre3", "Retired", "04"),
("05", "Lenovo IdeaCentre3", "Active", "05");

SELECT * FROM COMPUTER;

CREATE TABLE SESSION (SESSION_ID CHAR(10) NOT NULL,
SESSION_START DATETIME NOT NULL,
SESSION_END DATETIME NOT NULL,
CUS_ID INT(5) NOT NULL,
COMP_NUM CHAR(2) NOT NULL,
PRIMARY KEY (SESSION_ID, CUS_ID, COMP_NUM),
FOREIGN KEY (CUS_ID) REFERENCES CUSTOMER(CUS_ID),
FOREIGN KEY (COMP_NUM) REFERENCES COMPUTER(COMP_NUM));
INSERT INTO SESSION (SESSION_ID, SESSION_START, SESSION_END, CUS_ID, COMP_NUM) VALUES ("2024352792", "2024-10-10 5:23:01", "2024-10-10 6:23:17", "00301", "01"),
("2024247895", "2024-10-13 1:02:26", "2024-10-13 5:024:45", "00302", "02"),
("2024654668", "2024-04-04 4:44:04", "2024-04-04 7:49:01", "00303", "03"),
("2024989786", "2024-12-25 3:56:21", "2024-12-25 5:00:08", "00304", "04"),
("2024126754", "2024-07-13 2:18:34", "2024-07-13 11:01:03", "00305", "05");

SELECT * FROM SESSION;
